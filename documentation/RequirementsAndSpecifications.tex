%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass[12pt]{article}

\usepackage[utf8]{inputenc} % Required for inputting international characters
\usepackage[T1]{fontenc} % Output font encoding for international characters
\usepackage[top=2cm,right=2cm, left=2cm]{geometry} % set margins
\usepackage{setspace} % paragraph spacing
\usepackage{mathpazo} % Palatino font

\usepackage{tabularx} % in the preamble
\newcolumntype{Y}{>{\centering\arraybackslash}X}
\newcolumntype{b}{>{\hsize=.5\hsize}X} % column 1 = 50% of a column
\newcolumntype{s}{>{\hsize=.4\hsize}X} % column 2 = 40% of a column
\newcolumntype{m}{>{\hsize=1.1\hsize}X} % column 3 = 110% of a column


\begin{document}

%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------

\begin{titlepage} % Suppresses displaying the page number on the title page and the subsequent page counts as page 1
	\newcommand{\HRule}{\rule{\linewidth}{0.5mm}} % Defines a new command for horizontal lines, change thickness here
	
	\center % Centre everything on the page
	
	%------------------------------------------------
	%	Headings
	%------------------------------------------------
	
	\textsc{\LARGE University of Regina}\\[1.5cm] % Main heading such as the name of your university/college
	
	\textsc{\Large ENSE 477: Capstone Project}\\[0.5cm] % Major heading such as course name
	
	\textsc{\large Requirements and Specifications}\\[0.5cm] % Minor heading such as course title
	
	%------------------------------------------------
	%	Title
	%------------------------------------------------
	
	\HRule\\[0.4cm]
	
	{\huge\bfseries Telport: Sasktel Telecommunications Portal}\\[0.4cm] % Title of your document
	
	\HRule\\[1.5cm]
	
	%------------------------------------------------
	%	Author(s)
	%------------------------------------------------
	
	\begin{minipage}[t]{0.4\textwidth}
		\begin{flushleft}
			\large
			\textit{Authors}\\
			Dakota \textsc{Fisher}\\ % Your name
			Quinn \textsc{Bast} % Your name
		\end{flushleft}
	\end{minipage}
	~
	\begin{minipage}[t]{0.4\textwidth}
		\begin{flushright}
			\large
			\textit{Supervisor}\\
			Dr. Yasser \textsc{Morgan} % Supervisor's name
		\end{flushright}
	\end{minipage}
	
	% If you don't want a supervisor, uncomment the two lines below and comment the code above
	%{\large\textit{Author}}\\
	%John \textsc{Smith} % Your name
	
	%------------------------------------------------
	%	Date
	%------------------------------------------------
	
	\vfill\vfill\vfill % Position the date 3/4 down the remaining page
	
	{\large\today} % Date, change the \today to a set date if you want to be precise
	
	%------------------------------------------------
	%	Logo
	%------------------------------------------------
	
	%\vfill\vfill
	%\includegraphics[width=0.2\textwidth]{placeholder.jpg}\\[1cm] % Include a department/university logo - this will require the graphicx package
	 
	%----------------------------------------------------------------------------------------
	
	\vfill % Push the date up 1/4 of the remaining page
	
\end{titlepage}

%----------------------------------------------------------------------------------------


%----------------------------------------------------------------------------------------
% Revision History
%----------------------------------------------------------------------------------------
\section*{Revision History}
\begin{tabularx}{\textwidth}{|Y|Y|Y|}
\hline
  \textbf{Revision Version} & \textbf{Revision Author} & \textbf{Revision Date}\\
\hline
1.0 & Dakota Fisher & February 4, 2019 \\
\hline
\end{tabularx}

\newpage


%----------------------------------------------------------------------------------------
%	Table of Contents
%----------------------------------------------------------------------------------------

\pagestyle{plain} %get rid of header/footer for toc page
\pagenumbering{roman}

\tableofcontents %put Table of Contents in
\cleardoublepage %start new page

\listoffigures %put List of Figures in
\cleardoublepage %start new page

\listoftables %put List of Tables in
\cleardoublepage %start new page

\pagestyle{plain} % put headers/footers back on
\pagenumbering{arabic}

%----------------------------------------------------------------------------------------

%----------------------------------------------------------------------------------------
%	Body of Document
%----------------------------------------------------------------------------------------

\doublespacing % set document to be default double spaced

%----------------------------------------------------------------------------------------

%----------------------------------------------------------------------------------------
%	Introduction
%----------------------------------------------------------------------------------------

\section{Introduction}
\paragraph{}
	This document outlines and defines the requirements and specifications. The initial problem statement and proposed activities are suggestions given by Sasktel to provide a manageable scope.
The decisions on infrastructure, aside from the Broadworks API and telephone account access are left up to us to decide. 
\subsection{Problem Statement}
\paragraph{} 
	SaskTel requires a communications portal that can interwork with a Telephony Application Server and our core network to present communications and feature capabilities through a browser.  This will allow for the exploration of new communications service models. 
\paragraph{} 
	SaskTel has been pursuing the deployment of a new communications core along with the Cisco/Broadsoft Telephony Application Server branded as Broadworks.  One of the drivers is to enable a richer customer experience through a converged architecture that exposes rapid development to enables new capabilities.  Broadworks exposes the Application Programming Interface to access service control tools and user information.  These tools and information can be used to create new communications applications or add additional value to existing applications.  
\paragraph{} 
	The main objectives for SaskTel is to gain exposure to new and innovative communications service experience for our customers and to promote the potential internally for aligning resources, time and effort in enabling applications.

%----------------------------------------------------------------------------------------
% Proposed Activities
%----------------------------------------------------------------------------------------
\pagebreak
\begin{spacing}{1.5} % remove double spacing for list, lists already pad too much
	\subsubsection{Proposed Activities}
	\begin{itemize}
		\item
		Establish communications portal and platform interworking
		\item
		Gain a high-level understanding of the communications network architecture
		\item
		Gain an understanding of a method to access and use TAS APIs
		\item
		Establish base interworking and web browser communications portal
	\begin{itemize}
		\item
		Access and exposure to TAS API
		\item
		User registration through IMS
		\item
		User presentation and interaction via portal
		\item
		Exposure to 4-5 basic features to validate interworking i.e. \\ 
		(listed only as suggestions)
	\begin{itemize}
		\item
		Call forwarding
		\item
		Display of call logs (All, Incoming, Outgoing, Missed).
		\item
		Simple call blocking by using a slider.  Simple drop down to show numbers blocked (allow
		for unblocking).
		\item
		Directory.  Searchable by typing any string of characters.
		\end{itemize}
		\end{itemize}
		\item
		Enable WebRTC communications
		\item
		Enable the use of WebRTC for internet communications directly through the portal
		
		\item
		Create innovative communications experience
		\item
		Explore feature capabilities and experiment with innovative communications capabilities
		\item
		Demonstrate and showcase the ability to grow and share knowledge.	
	\end{itemize}



%----------------------------------------------------------------------------------------
% Skills Required
%----------------------------------------------------------------------------------------
\newpage
\subsubsection{Skills Required}
General Knowledge Requirements:
\begin{itemize}
	\item
	Network Platform and service specific knowledge
	\item
	Software engineering skills
		\begin{itemize}
			\item
			Client / server operation
			\item
			IP Network Protocols (SIP, RTP, UDP, HTTP …).
			\item
			Internet Methods (Using XML, JSON, REST, …).
			\item
			Web Browser Programming (HTML, CSS).
			\item
			Programming Languages (Java, Python, Ruby)
		\end{itemize}	
\end{itemize}
API Technology Comments:
\begin{itemize}
	\item
	Most popular approach to delivering web APIs is REST (Representational State 				Transfer).
	\item
	API returns data in either XML or JSON.
	\item
	Most popular implementation is REST+JSON (not a standard but widely accepted within 		the industry).
\end{itemize}
API Usage Comments:
\begin{itemize}
	\item
	Must consider how a resource will be manipulated not just retrieved.
	\item
	Should have strong understanding of both client-side and server-side programming.
	\item
	Should have strong understanding and experience with HTML and CSS (Cascading Style 			Sheets) for web programming, development, and design.
	\item
	Should have strong understanding and experience with Java Script.
	\item
	Should have a strong knowledge and experience with dynamic programming languages 			making Python and Ruby emerging industry favorites (Python+Django or Ruby+Rails).
	\item
	Should have knowledge and experience of the user and use of the product interface (in 	regard to forming the interface).
\end{itemize}	
\end{spacing}

%----------------------------------------------------------------------------------------
% Design decisions
%----------------------------------------------------------------------------------------

\newpage
\section{Design Decisions}
\paragraph{}
	During the creation of the project, we had full reign of the architecture and languages in which we wanted to use in order to create the solution for SaskTel. As a result, we did a significant amount of research on the different technologies available in order to make the best decisions for the project. While making these decisions, there were two different sides of the project to focus on. The backend would manage interfacing between SaskTel's servers as well as manage user credentials for the system, while the frontend would display the interface to the user. Both the backend and the frontend had may different decisions which led us to the current solution.
\subsection{"Backend"}
\paragraph{}
	When creating the backend, initial considerations were to use a basic LAMP stack, which would include PHP as the backend language. This decision was initially chosen because it is the most commonly known web stack. Because of this, it was likely that SaskTel would have a number of employees, if required, could take over the project and understand how to make changes. After our initial meeting with SaskTel, it was indicated that there were no restrictions on the technologies that we could use for the project, and therefore, instead of using PHP, we opted to use a python backend as python was our team's preferred coding. At the same time, this allowed us to look into new frameworks to gain additional experience with new technologies. The leading technologies of python backends being Django and Flask.

	\subsubsection{Server side scripting framework}
	\paragraph{}
		The choice of the server side scripting language was determined to be python after the first meeting with SaskTel. After researching the different frameworks that were available for the backend, two competitors stood out, Django and Flask. Extensive research was done into both of the technologies. Django was a full-fledged backend system, allowing for object-relational models, MVC configuration, admin interface, templates, caching, and much more straight out of the box. Django is feature-rich, however, the general consensus is that Django is generally more restrictive than Flask because of their additional functionality. For example, Django wouldn't let you switch out their admin portal or ORM frameworks for ones that you prefer (or, if they did, it would be difficult and tedius to do so). Flask on the other hand, was a minimal backend providing less functionality, but was extremely good at providing a stable backend server, as well as allowing more freedom over which libraries to use. After trying a simple project in both Django and Flask to test the waters of both frameworks, Flask was chosen over Django. This decision was because Flask is a smaller and more stable framework while providing the ability to customize. Being more comfortable with Flask, it was the chosen as the backend server side scripting framework for this project.


	\subsubsection{Backend Framework Decision Timeline}

		%------------------------------------------------------------
		% Backend design decision table
		%------------------------------------------------------------

		\begin{center}
		\begin{tabularx}{\textwidth}{|b|s|m|}
		\hline
			\textbf{Date} & \textbf{Design Decision} & \textbf{Reasoning} \\
		\hline
		September 14th, 2018 & Technology stack & Our initial thoughts for the technology stack were to use a basic LAMP stack. This decision was made because it would favor SaskTel, as it was the most common technology stack and would allow anyone familiar to be able to make changes if required. \\
		\hline
		September 24th, 2018 & Technology stack & After meeting with SaskTel it was clear that there were no restrictions on the technology that we chose to use to implement the solution. As a result, we chose to use a Python based backend as it was the language of choice. \\
		\hline
		October 18th, 2018 & Server side frameworks & Created sample repositories for trying out the difference between Flask and Django. \\
		\hline
		October 23rd & Flask backend & After testing between Django and Flask in sample repositories, Flask ended up being the most comfortable environment to develop in. As a result, Flask was chosen to be the backend framework for the project. \\
		\hline
		\end{tabularx}
		\end{center}	
	
\subsection{"Frontend"}
\paragraph{}
	Information about initial frontend thoughts (HTML) conversion to choice of JS framework.
	
	\subsection{Frontend frameworks}
		Explain our findings between different frontend frameworks and which we ended up choosing. (Maybe won't need all the additional subsections)
	
	\subsection{Node.js (In Use)}

	\subsection{JavaScript}
	
	\subsubsection{React (In Use)}
	
	\subsubsection{Angular2 + Typescript (Not In Use)}
	
	\subsubsection{Vue.js (Not In Use)}
	
	\subsubsection{Frontend Framework Decision Timeline}
	
		%------------------------------------------------------------
		% Frontend design decision table
		%------------------------------------------------------------

		\begin{center}
		\begin{tabular}{ |c|c|c|c| } 
		\hline
		Date & Design Decision & Reasoning \\
		\hline
		Date & Design Decision & Reasoning \\
		\hline
		Date & Design Decision & Reasoning \\
		\hline
		Date & Design Decision & Reasoning \\
		\hline
		Date & Design Decision & Reasoning \\
		\hline
		\end{tabular}
		\end{center}	

%----------------------------------------------------------------------------------------

\newpage

\section{Automated testing}

\subsubsection{Mocha (In Use)}

\subsubsection{Jest (Not In Use)}

\subsubsection{Chai (In Use)}

\subsubsection{Sinon (In Use)}

\subsubsection{Enzyme (In Use)}

\subsubsection{Selenium (In Use)}

\subsubsection{Cypress (Not In Use)}



\newpage

\section{Tools}

\subsection{Git}

\subsection{Toggl}

\subsection{GitKraken}

\subsubsection{Glo Boards}

\subsection{Google Suite}

\subsection{Discord}

\subsubsection{Alternative: Slack}

\subsubsection{Alternative: Skype}

\subsubsection{Alternative: Messenger}

\subsubsection{Alternative: WhatsApp}

\subsubsection{Alternative: Hangouts}

\newpage

\section{Security Considerations}
\paragraph{}
	The main concern of our application was the security of a user who would login to our application. When a user logs into a website, their credentials should never be seen or be accessible except by the authorization agency. In our case, the authorization agency is SaskTel's API. Therefore, our server acts as a proxy between SaskTel's API and itself, forwarding authentication requests to SaskTel's servers.
\paragraph{}	
	Security was a huge concern, and therefore many different security methods were researched. These methods included LocalStorage, SessionStorage, Redux, IndexedDB, JSON Web tokens, CSRF Tokens, Two Factor Auth, OAuth, and 3rd Party Logins. With so many different methods of 'security' avaliable, we wanted to make sure that we were using the best of the best, leaving no room for vulnerabilities.

\subsection{Missing the obvious}
\paragraph{}	
	While reading SaskTel's API documentation, there was no indication of how a user logs into their API. Generally, when logging into a website, the user provides their username and password, and once the username and password have been confirmed, the server will provide the user's browser a 'token'. The browser sends this token every time the user makes a request so that the server can acknowledge that the user has already logged in. This prevents the user from having to enter their username and password in while navigating around the website. 
\paragraph{}
	Because of this knowledge, after examining the available REST endpoints we assumed the endpoint named "LoginToken" was used to generate a token for the user to use for repeated requests. After looking at the endpoint's response, this looked like exactly what we needed to authenticate a user with SaskTel. However, the only problem was that "the generated token has an expiry of 60 seconds." This caused a large problem for our application. How were we going to keep this token alive for the user to be able to access Sasktel's servers? Generally a user won't change pages or request data every 60 seconds, thus after 60 seconds of idle activity, this token would expire. If the token expires, the user would need to login again, meaning we would need to send their username and password. We didn't want users to have to login to the site every 60 seconds as that would be extremely annoying and immediately make a user not use the application. At the same time, we did not want to store the user's credentials on our server as they would have to be stored in plaintext which is a huge security violation to the users of the website. This proved to be a difficult challenge. 
\paragraph{}
	Various ideas were devised including sending a refreshed token every 50 seconds to get a new token before it expired, storing the passwords in the browser, and many other options; none of which we thought were secure enough for a user to be comfortable with. After a couple of weeks, it became clear that our supposed "challenge" was not an issue at all. While examining the different types of data that SaskTel responded with from their various endpoints, we found that SaskTel's servers responded with a cookie alongside the regular HTTP request. This cookie turned out to be a token that the user could use to access SaskTel's endpoints with an unlimited expiry. Once this information had been found, authenticating a user became extremely easy using the methods outlined below. To this date we still don't know what the 'LoginToken' endpoint does or why it exists.

\subsection{Security Research}

	\subsubsection{JSON Web Tokens}
	\subsubsection{LocalStorage}
	\subsubsection{SessionStorage}
	\subsubsection{Redux}
	\subsubsection{IndexedDB}
	\subsubsection{CSRF Tokens}
	\subsubsection{Two Factor Authentication}
	\subsubsection{Third Party Login}
	\subsubsection{OAuth}

\subsection{API Communication}

\subsection{Data Integrity}
	SaskTel->XML->JSON->Client
	SaskTel->XML->XML->Client->JSON


\newpage

\section{User Stories}

\subsection{Log In}

\subsection{Log Out}

\subsection{Check Call Logs}

\subsection{Turn on Call Forwarding Always}

\subsection{Turn on Call Forwarding Busy}

\subsection{Turn on Call Forwarding Selective}

\subsection{Turn on Call Forwarding No Answer}

\subsection{Turn on Call Forwarding}

\subsection{Turn on Do Not Disturb}

\subsection{View my Profile}

\subsection{Call a Phone Number}

\subsection{Start a Call to a Phone Number from my Phone}

\subsection{View Feature Access Codes}












\end{document}

%----------------------------------------------------------------------------------------
%	Document Style Templates
%----------------------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Section Nesting for Table of Contents
%
% A section or subsection can contain any number of nested children
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \section{First Title} %x
% \paragraph{} **~ Contents of First Title ~**
%
% \subsection{Second Title} %x.x
% \paragraph{} **~ Contents of Second Title ~**
%
% \subsubsection{Third Title} %x.x.x
% \paragraph{} **~ Contents of Third Title ~**
% 
% No more nesting allowed. capped at x.x.x sectioning
%
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%----------------------------------------------------------------------------------------

%----------------------------------------------------------------------------------------
%	Template References and Licenses
%----------------------------------------------------------------------------------------
% This paper integrates the following templates into a single document.
% There is no endorsement in any way shape or form from the template authors.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Academic Title Page
% LaTeX Template
% Version 2.0 (17/7/17)
%
% This template was downloaded from:
% http://www.LaTeXTemplates.com
%
% Original author:
% WikiBooks (LaTeX - Title Creation) with modifications by:
% Vel (vel@latextemplates.com)
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
% 
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
